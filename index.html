<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendar Widget</title>

<link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    background:transparent;
    font-family:'Work Sans', sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
}

.calendar{
    width:320px;
    background:#f2f2f2;
    border-radius:18px;
    padding:18px 18px 22px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
    position:relative;
}

/* speech bubble */
.calendar::after{
    content:"";
    position:absolute;
    bottom:-12px;
    left:50%;
    transform:translateX(-50%);
    width:0;
    height:0;
    border-left:12px solid transparent;
    border-right:12px solid transparent;
    border-top:12px solid #f2f2f2;
}

.header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:10px;
}

.month{
    font-weight:600;
    font-size:16px;
    letter-spacing:0.3px;
}

.nav{
    cursor:pointer;
    font-size:18px;
    color:#444;
    padding:4px 6px;
    border-radius:6px;
    transition:0.15s;
}

.nav:hover{
    background:rgba(0,0,0,0.08);
}

.week{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    font-size:12px;
    color:#8c8c8c;
    margin-bottom:6px;
    text-align:center;
}

.week div{
    padding:6px 0;
    font-weight:500;
}

.dates{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:4px;
}

.date{
    text-align:center;
    padding:7px 0;
    font-size:13px;
    border-radius:8px;
    cursor:pointer;
    transition:0.15s;
    color:#3b3b3b;
}

.date:hover{
    background:rgba(0,0,0,0.07);
}

.today{
    background:#3a3a3a;
    color:white;
    font-weight:600;
}

.muted{
    color:#bfbfbf;
}

.footer{
    position:absolute;
    bottom:8px;
    right:10px;
    font-size:18px;
    color:#777;
}

</style>
</head>

<body>

<div class="calendar">

    <div class="header">
        <div class="nav" onclick="prevMonth()">‹</div>
        <div class="month" id="monthYear"></div>
        <div class="nav" onclick="nextMonth()">›</div>
    </div>

    <div class="week">
        <div>M</div><div>T</div><div>W</div>
        <div>T</div><div>F</div><div>S</div><div>S</div>
    </div>

    <div class="dates" id="dates"></div>

    <div class="footer">⚙</div>

</div>

<script>
const monthYear = document.getElementById("monthYear");
const datesContainer = document.getElementById("dates");

let currentDate = new Date();

function renderCalendar(date){
    datesContainer.innerHTML = "";

    const year = date.getFullYear();
    const month = date.getMonth();

    const firstDay = (new Date(year, month, 1).getDay() + 6) % 7;
    const lastDate = new Date(year, month + 1, 0).getDate();
    const prevLastDate = new Date(year, month, 0).getDate();

    monthYear.textContent = date.toLocaleString("default", { month: "long", year: "numeric" });

    /* previous month */
    for(let i=firstDay; i>0; i--){
        const d = document.createElement("div");
        d.classList.add("date","muted");
        d.textContent = prevLastDate - i + 1;
        datesContainer.appendChild(d);
    }

    /* current */
    for(let i=1; i<=lastDate; i++){
        const day = document.createElement("div");
        day.classList.add("date");
        day.textContent = i;

        const today = new Date();

        if(i === today.getDate() &&
           month === today.getMonth() &&
           year === today.getFullYear()){
            day.classList.add("today");
        }

        datesContainer.appendChild(day);
    }

    /* next */
    const total = firstDay + lastDate;
    const nextDays = 42 - total;

    for(let i=1; i<=nextDays; i++){
        const d = document.createElement("div");
        d.classList.add("date","muted");
        d.textContent = i;
        datesContainer.appendChild(d);
    }
}

function prevMonth(){
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar(currentDate);
}

function nextMonth(){
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar(currentDate);
}

renderCalendar(currentDate);
</script>

</body>
</html>

